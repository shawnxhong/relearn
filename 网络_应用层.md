# 应用层

## 网页解析全过程
1. DNS 解析
- 域名 -> IP地址
2. TCP 连接
- 3次握手
3. http 请求
- 索要网页
- 负载均衡 load balance
  - 摊摊开
  - 分布式服务器，反向代理，把请求分发到各个服务器上
4. 处理请求
- 服务器 根据 url 和方法 处理请求，返回结果
5. 浏览器渲染
- 解析html
- 构建dom 树
- 解析css 渲染树
- 布局渲染树，显示
6. TCP 断开
- 四次挥手 886

## DNS 为什么用UDP
- DNS 既用tcp 也用udp
- tcp
  - 主域名服务器 向 辅域名服务器 传送变化的数据时 用tcp
  - 因为 要同步的数据量比较大
- udp
  - 客户端 请求解析域名的时候 一般返回的内容会比较小
  - 不需要三次握手 响应比较快
  - 域名服务器要自己处理超时 和重传


## socket()有哪些
- 流套接字 sock_stream
  - tcp
  - 保证可靠传输
  - 程序中不需要处理可靠性问题
- 数据报套接字 sock_dgram
  - udp
  - 需要在程序里处理丢包等问题
- 原始套接字 sock_raw
  - 传送非传输层数据包 如 ping 或者别的特殊东西 用这个

## URL URI 的区别
- uri == uniform resource identifier
  - 定义了资源是什么
  - 没定义怎么访问

- url == uniform resource locator
  - 就是网址
  - 标识一个互联网资源，指定操作方法
  - 给出资源地址 和访问方式

## 网站很慢的原因 
1. 网络测速，看看是不是带宽被占用
2. 测速正常，ping 下 看看丢包率， ping值是否稳定
3. 看看其他网站速度是否也慢
4. 网站本身原因
  - 前端代码是不是太搓
  - 布局是不是嵌套太多
  - 是否有过大的图片内容

## 应用层常见协议
- FTP(21端口)：文件传输协议
- SSH(22端口)：远程登陆
- TELNET(23端口)：远程登录
- SMTP(25端口)：发送邮件
- POP3(110端口)：接收邮件
- HTTP(80端口)：超文本传输协议
- DNS(53端口)：运行在UDP上，域名解析服务

## 什么是RIP (Routing Information Protocol, 距离矢量路由协议)? 算法是什么？
- 每个路由器维护一张表，记录该路由器到其它网络的”跳数“
- 路由器到与其直接连接的网络的跳数是1，每多经过一个路由器跳数就加1
- 更新该表时和相邻路由器交换路由信息
- 路由器允许一个路径最多包含15个路由器，如果跳数为16，则不可达。
- 交付数据报时优先选取距离最短的路径。Dijstra